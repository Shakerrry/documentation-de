---
title: "Benutzerdefinierte Mid-Call-Werkzeuge"
icon: "code-branch"
description: "Erfahren Sie, wie Sie benutzerdefinierte API-Integrationen erstellen und konfigurieren, die Ihr KI-Assistent während Anrufen verwenden kann"
---

<Note>
  Benutzerdefinierte Mid-Call-Werkzeuge ermöglichen es Ihrem KI-Assistenten, während Anrufen mit externen Systemen zu interagieren. Ob Bestandsprüfung, Kundendatenverifizierung oder Abruf von Echtzeitinformationen – diese Werkzeuge machen Ihre KI leistungsfähiger und vernetzter.
</Note>

## Überblick

Benutzerdefinierte Mid-Call-Werkzeuge ermöglichen es Ihrem KI-Assistenten:

- Echtzeit-API-Aufrufe während Gesprächen durchzuführen
- Daten an Ihre Systeme zu senden oder abzurufen
- Fundierte Entscheidungen basierend auf Live-Daten zu treffen
- Anrufern genaue, aktuelle Informationen bereitzustellen

<Card title="Hauptvorteile" icon="star">
  - Keine Programmierung erforderlich - nur API-Endpunkt und Parameter konfigurieren - KI weiß automatisch, wann und wie die Werkzeuge zu verwenden sind - Echtzeit-Datenzugriff während Anrufen - Nahtlose Integration mit Ihren bestehenden Systemen
</Card>

## Ihr Werkzeug einrichten

### 1. Grundkonfiguration

<Frame>
  <img src="/resources/mid-call.png" alt="Hauptwerkzeug-Konfiguration" />
</Frame>

<Steps>
  <Step title="Werkzeugerstellung aufrufen">
    Navigieren Sie zu **Mid-Call-Werkzeuge** und klicken Sie auf **Mid-Call-Werkzeug erstellen**
  </Step>

  <Step title="Haupteinstellungen konfigurieren">
    Füllen Sie die wesentlichen Details aus:

    - **Name**: Verwenden Sie Kleinbuchstaben und Unterstriche (z.B. `check_order_status`)
    - **Beschreibung**: Erklären Sie, wann und wie die KI dieses Werkzeug verwenden soll
    - **Endpunkt**: Ihre API-URL (z.B. `https://api.yourcompany.com/orders`)
    - **Timeout**: Wie lange auf Antworten gewartet werden soll (in Sekunden)
    - **Methode**: Wählen Sie GET, POST, PUT, PATCH oder DELETE

  </Step>

  <Step title="Header hinzufügen">
    Häufige Header, die Sie möglicherweise benötigen:
    ```yaml
    Content-Type: application/json
    Authorization: Bearer your_token
    ```
  </Step>
</Steps>

### 2. Variablenkonfiguration

<Frame>
  <img src="/resources/mid-call-param.png" alt="Variablenkonfiguration" />
</Frame>

<Steps>
  <Step title="Parameter definieren">
    Dies sind die Informationen, die Ihre KI während des Anrufs sammelt:

    ```yaml
    Name: order_number
    Typ: string
    Beschreibung: "10-stellige Bestellnummer vom Kunden"
    ```
  </Step>

  <Step title="Validierungsregeln festlegen">
    Fügen Sie Formatanforderungen in der Beschreibung hinzu:

    ```yaml
    "Datum im Format TT/MM/JJJJ"
    "Telefonnummer ohne Leerzeichen"
    "E-Mail-Adresse zur Bestätigung"
    ```
  </Step>
</Steps>

## Parametertypen verstehen

<CardGroup cols={2}>
  <Card title="String" icon="font">
    Textwerte wie Namen, Adressen oder Referenznummern

    ```yaml
    Typ: string
    Beispiele: "Max Mustermann", "Hauptstraße 123"
    ```

  </Card>

  <Card title="Number" icon="calculator">
    Numerische Werte wie Beträge, Mengen oder IDs

    ```yaml
    Typ: number
    Beispiele: 42, 99.99
    ```

  </Card>

  <Card title="true_false" icon="toggle-on">
    Boolesche Werte für Ja/Nein-Situationen

    ```yaml
    Typ: true_false
    Beispiele: true, false
    ```

  </Card>

  <Card title="Formatierungshilfe" icon="wand-magic-sparkles">
    Fügen Sie Formatanweisungen in Beschreibungen hinzu

    ```yaml
    "Datum im Format TT/MM/JJJJ"
    "Telefon ohne Leerzeichen"
    ```

  </Card>
</CardGroup>

## Dynamische Endpunkte

<Warning>
  Wenn Sie Variablen in Ihrer Endpunkt-URL verwenden, stellen Sie sicher, dass Sie sie in geschweifte Klammern setzen und den genauen Parameternamen verwenden.
</Warning>

Sie können Ihre Endpunkte mit Variablen dynamisch gestalten:

```yaml
Basis-URL:
https://api.example.com/orders/status

Mit Variablen:
https://api.example.com/orders/{order_id}/status
```

Die KI ersetzt `{order_id}` automatisch durch den tatsächlichen Wert, der während des Gesprächs gesammelt wurde.

## Einfaches Testen

<Card title="Automatisches Testen" icon="vial">
Klicken Sie auf "Werkzeug testen", um einen Test mit Dummy-Daten durchzuführen:
- String-Parameter: "test"
- Number-Parameter: 1
- Boolean-Parameter: true

Sie sehen den Antwortcode und -körper, was Ihnen hilft zu überprüfen, ob alles funktioniert.

</Card>

## Power-User-Funktion: Integration der Automatisierungsplattform

<Note>
  Benötigen Sie komplexere Logik? Verbinden Sie Ihr Werkzeug mit der Automatisierungsplattform für erweiterte Workflows.
</Note>

Für erweiterte Integrationen und komplexe Workflows können Sie benutzerdefinierte Werkzeuge mit unserer [Automatisierungsplattform](/automation-platform/introduction) kombinieren.

So erstellen Sie leistungsstarke Integrationen:

1. In der Automatisierungsplattform:

   - Erstellen Sie einen neuen Flow
   - Fügen Sie einen Webhook-Trigger hinzu
   - Erstellen Sie Ihre Logik (API-Aufrufe, Datentransformation usw.)
   - Enden Sie mit "Antwort zurückgeben"

2. In Ihrem benutzerdefinierten Werkzeug:
   - Verwenden Sie die Webhook-URL als Ihren Endpunkt
   - Fügen Sie `/sync` am Ende hinzu
   - Beispiel: `https://automation.autocalls.ai/webhook/abc123/sync`

Dies ermöglicht Ihnen:

- Daten vor/nach API-Aufrufen zu transformieren
- Mehrere API-Aufrufe nacheinander durchzuführen
- Komplexe Geschäftslogik anzuwenden
- Fehler elegant zu behandeln

## Beispiele aus der Praxis

<AccordionGroup>
  <Accordion title="Bestellauskunftssystem" icon="magnifying-glass">
    ```yaml
    Name: check_order
    Endpunkt: https://api.yourshop.com/orders/{order_number}
    Parameter:
      - Name: order_number
        Typ: string
        Beschreibung: "Bestellreferenz (Format: ORD-XXXXX)"
    ```

    Die KI wird:
    1. Nach der Bestellnummer fragen
    2. Den Status abrufen
    3. Liefertermine und Status dem Kunden erklären

  </Accordion>

  <Accordion title="Terminverfügbarkeit" icon="calendar">
    ```yaml
    Name: check_slots
    Endpunkt: https://api.calendar.com/availability
    Parameter:
      - Name: service
        Typ: string
        Beschreibung: "Dienstleistungsart (Haarschnitt, Massage, Beratung)"
      - Name: date
        Typ: string
        Beschreibung: "Bevorzugtes Datum (TT/MM/JJJJ)"
    ```

    Die KI wird:
    1. Nach der gewünschten Dienstleistung fragen
    2. Bevorzugtes Datum erfragen
    3. Verfügbare Zeitfenster anzeigen

  </Accordion>

  <Accordion title="Kundenverifizierung" icon="shield-check">
    ```yaml
    Name: verify_customer
    Endpunkt: https://api.crm.com/verify
    Parameter:
      - Name: phone
        Typ: string
        Beschreibung: "10-stellige Telefonnummer"
      - Name: email
        Typ: string
        Beschreibung: "E-Mail-Adresse zur Verifizierung"
    ```

    Die KI wird:
    1. Kontaktdaten sammeln
    2. Gegen Ihr CRM verifizieren
    3. Basierend auf dem Verifizierungsstatus fortfahren

  </Accordion>
</AccordionGroup>

## Ihre KI konfigurieren

<Info>
  Die KI benötigt klare Anweisungen in ihrem System-Prompt, um Ihre benutzerdefinierten Werkzeuge effektiv zu nutzen.
</Info>

Beispiel-Prompt-Abschnitt:

```yaml
Wann das check_order-Werkzeug zu verwenden ist:
1. Kunde fragt nach Bestellstatus
2. Erwähnt Tracking oder Lieferung
3. Möchte wissen, wo sein Paket ist

Wie es zu verwenden ist:
1. Nach Bestellnummer fragen, falls nicht angegeben
2. Format verifizieren (ORD-XXXXX)
3. Werkzeug verwenden, um Status abzurufen
4. Ergebnisse in einfachen Worten erklären
```

<Tip>
  Testen Sie Ihre Werkzeuge mit verschiedenen Gesprächsabläufen, um sicherzustellen, dass die KI alle Szenarien reibungslos handhabt. Beginnen Sie mit einfachen Testanrufen, bevor Sie live gehen.
</Tip>
