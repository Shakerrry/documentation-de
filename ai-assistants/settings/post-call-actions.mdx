---
title: "Nach-Anruf-Aktionen"
icon: "webhook"
description: "Extrahieren Sie Daten aus dem Anruf und senden Sie diese an eine App/einen Webhook für Automatisierungs-Workflows."
---

Konfigurieren Sie, was nach Anrufende passiert - extrahieren Sie spezifische Informationen aus Gesprächen und senden Sie diese an externe Systeme zur weiteren Verarbeitung.

## Überblick

Nach-Anruf-Aktionen automatisch:
- Extrahieren strukturierte Daten aus Gesprächen mittels KI
- Senden extrahierte Variablen an Webhooks für Automatisierung
- Lösen Workflows in verbundenen Plattformen aus
- Aktualisieren CRM-Einträge und Datenbanken
- Ermöglichen komplexe Automatisierungsszenarien

## Nach-Anruf-Variablen

Definieren Sie die Variablen, die die KI aus dem Anruf extrahieren und an einen Webhook senden wird.

### Variablen-Konfiguration

Konfigurieren Sie, welche Informationen die KI aus jedem Gespräch extrahieren soll:

<AccordionGroup>
  <Accordion title="Variablen-Definition" icon="code">
    Erstellen Sie Variablen, die die KI aus Gesprächen identifizieren und extrahieren wird.
    
    **Wie Extraktion funktioniert:**
    Die KI analysiert das vollständige Anruftranskript und berücksichtigt Ihren System-Prompt-Kontext, um die angeforderten Variablen zu extrahieren. Sie versteht, was während des Anrufs besprochen wurde, und extrahiert relevante Informationen basierend auf Ihren Variablenbeschreibungen.
    
    **Konfiguration:**
    - **Name:** Variablen-Identifikator (3-16 Zeichen, Kleinbuchstaben, alphanumerisch)
    - **Typ:** Datentyp für den extrahierten Wert
    - **Beschreibung:** Klare Erklärung, damit die KI versteht, was aus dem Gespräch zu extrahieren ist
    
    **Variablen-Typen:**
    - **String:** Textwerte (Namen, Adressen, Kommentare)
    - **Number:** Numerische Werte (Mengen, Preise, Bewertungen)
    - **True/False:** Boolesche Werte (Ja/Nein-Antworten, erreichte Ziele)
  </Accordion>
  
  <Accordion title="Standard-Variablen" icon="list">
    Jeder Assistent enthält standardmäßig diese wesentlichen Variablen:
    
    **Status (True/False):** Ob das Anrufziel erreicht wurde oder nicht
    
    **Summary (String):** Anrufzusammenfassung in wenigen Worten
    
    Sie können benutzerdefinierte Variablen basierend auf Ihrem spezifischen Anwendungsfall hinzufügen.
  </Accordion>
  
  <Accordion title="Variablen-Beispiele" icon="lightbulb">
    Häufige Variablen für verschiedene Szenarien:
    
    **Vertriebs-Qualifizierung:**
    - `budget` (Number): Budgetbereich des Kunden
    - `decision_maker` (True/False): Ist Anrufer der Entscheidungsträger
    - `timeline` (String): Wann benötigen sie die Lösung
    - `pain_points` (String): Hauptprobleme erwähnt
    
    **Terminbuchung:**
    - `appointment_date` (String): Bevorzugtes Termindatum
    - `service_type` (String): Art der angeforderten Dienstleistung
    - `contact_method` (String): Bevorzugte Kontaktmethode
    
    **Support-Anrufe:**
    - `issue_type` (String): Kategorie des Problems
    - `urgency_level` (Number): Prioritätsbewertung (1-10)
    - `resolution_status` (True/False): Wurde Problem gelöst
  </Accordion>
</AccordionGroup>

### Extraktionsprozess

<AccordionGroup>
  <Accordion title="Wie KI Variablen extrahiert" icon="brain">
    Die KI verwendet ausgeklügelte Analyse zur Extraktion von Variablen aus Ihren Anrufen:
    
    **Datenquellen:**
    - **Vollständiges Anruftranskript:** Alles, was von der KI und dem Kunden gesagt wurde
    - **System-Prompt-Kontext:** Die Ziele und Anweisungen Ihres Assistenten helfen bei der Extraktionssteuerung
    - **Variablenbeschreibungen:** Klare Beschreibungen, die Sie für jede Variable bereitstellen
    
    **Analysemethode:**
    1. KI überprüft das gesamte Gesprächstranskript
    2. Berücksichtigt System-Prompt und Anrufziele
    3. Identifiziert relevante Informationen basierend auf Variablenbeschreibungen
    4. Extrahiert und formatiert Daten entsprechend angegebener Typen
    5. Validiert extrahierte Werte vor dem Senden an Webhook
  </Accordion>
</AccordionGroup>

### Best Practices

<Warning>
**Variablen-Benennung:** Verwenden Sie nur Kleinbuchstaben, alphanumerische Zeichen. Keine Leerzeichen oder Sonderzeichen außer Unterstriche.
</Warning>

<Tip>
**Klare Beschreibungen:** Schreiben Sie Beschreibungen, die klar erklären, wonach die KI im Gesprächstranskript suchen soll. Je spezifischer und kontextbewusster, desto besser die Extraktionsgenauigkeit.
</Tip>

<Note>
**System-Prompt-Synergie:** Ihre Variablenbeschreibungen funktionieren am besten, wenn sie mit Ihren System-Prompt-Zielen übereinstimmen. Wenn Ihr Assistent für Lead-Qualifizierung konzipiert ist, sollten Ihre Variablen diesen Zweck widerspiegeln.
</Note>

## Webhook-Konfiguration

Führen Sie eine Anfrage an eine URL durch, die die extrahierten Variablen an externe Systeme sendet.

### Webhook-Einstellungen

<AccordionGroup>
  <Accordion title="Webhook-Status" icon="check">
    **Aktiviert/Deaktiviert:** Steuern Sie, ob Webhooks nach Anrufen gesendet werden
    
    **Standard:** Deaktiviert - Nur aktivieren, wenn Sie einen Webhook-Endpunkt zum Empfang von Daten bereit haben
  </Accordion>
  
  <Accordion title="Webhook-URL" icon="link">
    **URL-Endpunkt:** Wohin die extrahierten Daten gesendet werden
    
    **Format:** Muss eine gültige URL sein

    **Beispiel:** `https://automate.web-wb.de/api/v1/webhooks/your-webhook-id`
    
    **Test-Funktionalität:** Integrierte Test-Funktion sendet Beispieldaten zur Konnektivitätsprüfung
  </Accordion>
  
  <Accordion title="Lieferoptionen" icon="gear">
    **Webhook nur bei Abschluss senden:** 
    - **Ja (Standard):** Nur Daten für abgeschlossene Anrufe senden
    - **Nein:** Daten für alle Anrufe senden, unabhängig vom Abschlussstatus
    
    **Aufzeichnung in Webhook einschließen:**
    - **Ja (Standard):** Aufzeichnungs-URL in Webhook-Payload einschließen
    - **Nein:** Nur extrahierte Variablen ohne Aufzeichnungslink senden
  </Accordion>
</AccordionGroup>

### Webhook-Payload

Der Webhook erhält eine umfassende JSON-Payload mit Anrufdetails, extrahierten Variablen und Transkript. Für vollständige API-Dokumentation siehe [Post-Call Webhook API](/api-reference/webhooks/post-call-webhook).

**Hauptfelder der Payload:**

<AccordionGroup>
  <Accordion title="Anrufinformationen" icon="phone">
    - **id:** Eindeutige Anruf-ID
    - **customer_phone:** Telefonnummer des Kunden (E.164-Format)
    - **assistant_phone:** Telefonnummer des Assistenten
    - **duration:** Anrufdauer in Sekunden
    - **status:** Anrufstatus (initiated, ringing, busy, in-progress, ended, completed, ended_by_customer, ended_by_assistant, unanswered, failed)
    - **created_at/finished_at:** ISO 8601 Zeitstempel
  </Accordion>
  
  <Accordion title="Extrahierte Variablen" icon="code">
    - **extracted_variables:** KI-extrahierte Daten basierend auf Ihrer Nach-Anruf-Schema-Konfiguration (siehe Abschnitt [Nach-Anruf-Variablen](#post-call-variables) oben)
    - **input_variables:** Vor dem Anruf übergebene Variablen (siehe [Anrufvariablen](/ai-assistants/settings/prompt-and-tools#call-variables))
    - Enthält Standard-Variablen (Status, Zusammenfassung) plus Ihre benutzerdefinierten Variablen
  </Accordion>
  
  <Accordion title="Gesprächsdaten" icon="message">
    - **transcript:** Detailliertes Gesprächstranskript mit Zeitstempeln
    - **formatted_transcript:** Menschenlesbare Gesprächsformatierung
    - **recording_url:** Anrufaufzeichnungs-URL (wenn aktiviert)
  </Accordion>
  
  <Accordion title="Kampagnen- & Lead-Daten" icon="users">
    - **lead:** Lead-Informationen (für Kampagnenanrufe)
    - **campaign:** Kampagnendetails und Einstellungen
    - Nur für Anrufe enthalten, die Teil von Kampagnen sind
  </Accordion>
</AccordionGroup>

**Beispiel Webhook-Payload:**

```json
{
  "id": 12345,
  "customer_phone": "+1234567890",
  "assistant_phone": "+1987654321",
  "duration": 125,
  "status": "completed",
  "extracted_variables": {
    "status": true,
    "summary": "Kunde interessiert an Produkt-Demo",
    "lead_quality": "hoch",
    "budget": 5000
  },
  "input_variables": {
    "customer_name": "Max Mustermann",
    "product_interest": "Pro Plan"
  },
  "transcript": [
    {
      "text": "Hallo! Hier ist Sarah von Website Excellence Builders.",
      "type": "transcript",
      "sender": "bot",
      "timestamp": 1756812511.315143
    },
    {
      "text": "Hallo, mir geht es gut, danke.",
      "type": "transcript", 
      "sender": "human",
      "timestamp": 1756812514.104436
    }
  ],
  "formatted_transcript": "KI: Hallo! Hier ist Sarah von Website Excellence Builders.\\nKunde: Hallo, mir geht es gut, danke.",
  "recording_url": "https://ki.web-wb.de/storage/recordings/call-12345.mp4",
  "created_at": "2025-01-15T10:30:00.000000Z",
  "finished_at": "2025-01-15T10:32:05.000000Z"
}
```

### Webhooks testen

<Tip>
**Vor der Live-Schaltung testen:** Verwenden Sie die Schaltfläche "Testanfrage durchführen", um Beispieldaten an Ihren Webhook-Endpunkt zu senden und zu überprüfen, ob er korrekt funktioniert.
</Tip>

**Testprozess:**
1. Konfigurieren Sie Ihre Variablen und Webhook-URL
2. Speichern Sie Ihre Assistenteneinstellungen
3. Klicken Sie auf "Testanfrage durchführen"
4. Überprüfen Sie, ob Ihr Webhook-Endpunkt die Testdaten empfängt
5. Verifizieren Sie, dass die Payload-Struktur Ihren Erwartungen entspricht

## Integrations-Beispiele

### Unsere Automatisierungs-Plattform

**Primäre Integration:** Verwenden Sie unsere integrierte No-Code-Automatisierungsplattform für nahtlose Workflows:

- **Direkte Webhook-Verarbeitung:** Keine externe Einrichtung erforderlich
- **250+ App-Integrationen:** Verbinden Sie mit CRM, E-Mail, Kalendern und mehr
- **Visueller Workflow-Builder:** Erstellen Sie komplexe Automatisierung ohne Code
- **Echtzeit-Datensynchronisation:** Sofortige Verarbeitung extrahierter Variablen
- **Vorgefertigte Vorlagen:** Sofort einsatzbereite Workflows für häufige Szenarien

**Häufige Automatisierungs-Workflows:**
- **CRM-Aktualisierungen:** Automatische Aktualisierung von Kontaktdatensätzen in HubSpot, Salesforce, Pipedrive
- **E-Mail-Follow-ups:** Senden personalisierter E-Mails basierend auf Anrufergebnissen
- **Lead-Scoring:** Aktualisieren von Lead-Bewertungen basierend auf extrahierten Variablen
- **Kalenderbuchung:** Automatisches Planen von Follow-up-Meetings
- **Team-Benachrichtigungen:** Benachrichtigen von Teammitgliedern über wichtige Anrufe

### Externe Plattformen

**Jede Plattform mit Webhook-Unterstützung:**
- Webhook-Daten von unserer Plattform empfangen
- Extrahierte Variablen in Ihren eigenen Systemen verarbeiten
- Benutzerdefinierte Automatisierungs-Workflows erstellen
- Mit jeder API oder jedem Dienst integrieren, der Webhooks akzeptiert

**Anwendungsfälle:**
- Mit jedem CRM, E-Mail-Plattform oder Geschäftstool verbinden
- Daten an benutzerdefinierte Anwendungen senden
- Workflows in Drittanbieter-Automatisierungsplattformen auslösen
- Daten in externen Datenbanken oder Systemen speichern

### Benutzerdefinierte Entwicklung

**API-Endpunkte:** Erstellen Sie benutzerdefinierte Empfänger für Webhook-Daten

**Datenbank-Integration:** Speichern Sie Anrufdaten in Ihren eigenen Systemen

**Geschäftslogik:** Lösen Sie komplexe Workflows basierend auf extrahierten Variablen aus

## Testen Ihres Assistenten

Nach der Konfiguration Ihrer Assistenteneinstellungen ist es wichtig, gründlich zu testen, bevor Sie in die Produktion gehen.

### Test-Methoden

<AccordionGroup>
  <Accordion title="Mit Ihrem Assistenten sprechen" icon="microphone">
    **Webbasiertes Testen:** Verwenden Sie die Schaltfläche "Mit Ihrem Assistenten sprechen", um direkt von Ihrem Browser aus zu testen
    
    **Funktionen:**
    - Echtzeit-Sprachgespräch über Ihren Webbrowser
    - Testen aller Assistenten-Fähigkeiten einschließlich Tools und Wissensdatenbank
    - Kein Telefon erforderlich - perfekt für schnelle Iterationen
    - Sofortiges Feedback zu Antworten und Verhalten
    
    **Am besten für:** Schnelles Testen während Entwicklung und Konfiguration
  </Accordion>
  
  <Accordion title="Telefonanruf-Testen" icon="phone">
    **Echtes Telefonanruf-Testen:** Rufen Sie Ihren Assistenten von jeder Telefonnummer an
    
    **Ausgehende Assistenten:**
    - Wenn keine spezifische Nummer gesetzt ist: Assistent ruft von einer zufälligen Nummer an
    - Wenn Anrufer-ID konfiguriert ist: Assistent ruft von Ihrer angegebenen Nummer an
    - Testen Sie den vollständigen ausgehenden Ablauf einschließlich Wählen und Anfangsnachricht
    
    **Eingehende Assistenten:**
    - Rufen Sie die zugewiesene Telefonnummer direkt an
    - Testen Sie, wie der Assistent eingehende Anrufe bearbeitet
    - Überprüfen Sie Anruf-Routing und Antwortqualität
    
    **Am besten für:** Abschließendes Testen mit echten Telefon bedingungen und Audioqualität
  </Accordion>
</AccordionGroup>

### Test-Checkliste

<Tip>
**Umfassendes Testen:** Testen Sie alle konfigurierten Funktionen einschließlich Tools, Wissensdatenbank-Abfragen, Variablenextraktion und Webhook-Lieferung.
</Tip>

**Wesentliche Tests:**
- Stimmklarheit und Antwortgeschwindigkeit
- Wissensdatenbank-Integration (wenn konfiguriert)
- Tool-Funktionalität (Übertragung, Planung usw.)
- Variablenextraktions-Genauigkeit
- Webhook-Lieferung (überprüfen Sie, ob Ihr Endpunkt Daten empfängt)
- Edge-Cases und Fehlerbehandlung

## Web-Widget-Integration

Konfigurieren Sie Ihren Assistenten für die Arbeit als Web-Widget auf Ihrer Website für nahtlose Kundeninteraktionen.

### Widget-Konfiguration

<AccordionGroup>
  <Accordion title="Widget-Einrichtung" icon="code">
    **Einfache Integration:** Fügen Sie Ihren KI-Assistenten mit einem einfachen Code-Snippet zu jeder Website hinzu
    
    **Funktionen:**
    - **Sprach-Chat:** Kunden können direkt mit Ihrem Assistenten sprechen
    - **Text-Fallback:** Option für textbasierte Gespräche
    - **Anpassbares Erscheinungsbild:** Passen Sie Markenfarben und Styling an
    - **Mobil-responsiv:** Funktioniert auf allen Geräten und Bildschirmgrößen
  </Accordion>
  
  <Accordion title="Widget-Verhalten" icon="gear">
    **Intelligente Interaktionen:** Das Widget passt sich Ihrer Assistenten-Konfiguration an
    
    **Fähigkeiten:**
    - Verwendet dieselbe Wissensdatenbank und Tools wie Telefon-Assistent
    - Unterstützt alle konfigurierten Sprachen
    - Extrahiert dieselben Nach-Anruf-Variablen
    - Sendet Webhooks für Web-Gespräche
    - Respektiert denselben System-Prompt und Persönlichkeit
  </Accordion>
  
  <Accordion title="Anwendungsfälle" icon="lightbulb">
    **Häufige Anwendungen:**
    
    **Kundensupport:** 24/7 automatisierter Support auf Ihrer Website
    **Lead-Qualifizierung:** Qualifizieren Sie Besucher, bevor sie den Vertrieb kontaktieren
    **Terminbuchung:** Ermöglichen Sie Besuchern, direkt über das Widget zu planen
    **FAQ-Bearbeitung:** Beantworten Sie häufige Fragen sofort
    **Produkt-Demos:** Führen Sie Besucher durch Ihre Produktfunktionen
  </Accordion>
</AccordionGroup>

<Note>
Für detaillierte Testanleitungen und Widget-Integrationsanweisungen siehe unsere [Testen Ihres Assistenten](/ai-assistants/testing) Dokumentation.
</Note>

<Note>
Für detaillierte Webhook-Integrationsanleitungen und Beispiele siehe unsere [Automatisierungs-Dokumentation](/automation/overview).
</Note>