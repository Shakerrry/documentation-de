---
title: "Lead aktualisieren"
api: "PUT /user/leads/{id}"
description: "Einen vorhandenen Lead in Ihren Kampagnen aktualisieren"
---

Aktualisieren Sie einen Lead, indem Sie die Lead-ID und die Felder angeben, die Sie ändern möchten. Es werden nur die im Request angegebenen Felder aktualisiert.

## Pfad-Parameter

<ParamField path="id" type="integer" required>
  Die ID des zu aktualisierenden Leads
</ParamField>

## Body-Parameter

<ParamField body="campaign_id" type="integer" optional>
  Die ID der Kampagne, der der Lead zugewiesen werden soll
</ParamField>

<ParamField body="phone_number" type="string" optional>
  Die Telefonnummer des Leads (wird in das E164-Format formatiert)
</ParamField>

<ParamField body="status" type="string" optional>
  Der Status des Leads. Muss einer der folgenden sein: `created`, `completed`, `reached-max-retries`
</ParamField>

<ParamField body="variables" type="object" optional>
  Benutzerdefinierte Variablen, die mit vorhandenen Lead-Variablen zusammengeführt werden
</ParamField>

## Antwort

<ResponseField name="message" type="string">
  Erfolgsmeldung, die anzeigt, dass der Lead aktualisiert wurde
</ResponseField>

<RequestExample>

```bash cURL
curl -X PUT "https://ki.web-wb.de/api/user/leads/123" \
  -H "Authorization: Bearer YOUR_API_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "campaign_id": 456,
    "phone_number": "+1234567890",
    "variables": {
      "name": "John Doe",
      "company": "Acme Corp"
    }
  }'
```

</RequestExample>

<ResponseExample>

```json Erfolgsantwort
{
  "message": "Lead updated successfully"
}
```

```json Fehlerantwort - Lead nicht gefunden
{
  "message": "Lead not found"
}
```

```json Fehlerantwort - Kampagne nicht gefunden
{
  "message": "Campaign not found"
}
```

```json Fehlerantwort - Ungültige Telefonnummer
{
  "message": "Invalid phone number"
}
```

```json Fehlerantwort - Validierung fehlgeschlagen
{
  "message": "Validation failed",
  "errors": {
    "campaign_id": ["The selected campaign does not exist"],
    "status": ["This status is assigned automatically and cannot be set manually"],
    "variables": ["Variables must be an array"]
  }
}
```

```json Fehlerantwort - Ungültige Felder
{
  "message": "Invalid fields: invalid_field, another_invalid_field"
}
```

</ResponseExample>

## Hinweise

- Der Lead muss dem authentifizierten Benutzer gehören
- Beim Aktualisieren der Kampagne muss die neue Kampagne ebenfalls dem authentifizierten Benutzer gehören
- Telefonnummern werden automatisch formatiert und validiert
- Variablen werden mit vorhandenen Variablen zusammengeführt (nicht ersetzt)
- Es können nur erlaubte Felder aktualisiert werden: `campaign_id`, `phone_number`, `status`, `variables`
- Das Feld `status` hat eingeschränkte Werte für die Datenintegrität